!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("bpd-toolkit",[],e):"object"==typeof exports?exports["bpd-toolkit"]=e():t["bpd-toolkit"]=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"BpdStorage",(function(){return l})),r.d(e,"BpdValidationError",(function(){return d})),r.d(e,"BpdUnknownStorageOption",(function(){return p})),r.d(e,"BpdUnknownStorageItemType",(function(){return y})),r.d(e,"BpdStorageUnavailable",(function(){return f}));var n,i,s,o,a,u=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r},h=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class l{constructor(t,e=""){n.set(this,void 0),i.set(this,void 0),u(this,n,new c(t)),u(this,i,e)}throwValidationErrors(t){h(this,n).setThrowValidation(t)}get(){return h(this,n).get()}removeItem(t){h(this,n).remove(this.getKey(t))}clear(){h(this,n).clear()}isAccessible(){return h(this,n).testStorage()}length(){return h(this,n).count()}getItem(t){return h(this,n).getString(this.getKey(t))}getNumber(t){return h(this,n).getNumber(this.getKey(t))}getBoolean(t){return h(this,n).getBoolean(this.getKey(t))}getAny(t){return h(this,n).getAny(this.getKey(t))}getArray(t){return h(this,n).getArray(this.getKey(t))}has(t){return h(this,n).has(this.getKey(t))}setItem(t,e){h(this,n).set(this.getKey(t),e,"string")}setNumber(t,e){h(this,n).set(this.getKey(t),e,"number")}setBoolean(t,e){h(this,n).set(this.getKey(t),e,"boolean")}setAny(t,e){h(this,n).set(this.getKey(t),e,"object")}setArray(t,e){h(this,n).set(this.getKey(t),e,"array")}getKey(t){return this.isString(t)?h(this,i)+"_"+t:t}isString(t){return"string"==typeof t&&t.length>0}}n=new WeakMap,i=new WeakMap;class c{constructor(t,e){if(s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),u(this,a,null!=e&&e),u(this,o,t),u(this,s,this.getStorage(t)),!h(this,s))throw new p(`Unknown storage: [${t}]`);if(!this.testStorage())throw new f(`Access to storage [${t}] is denied`)}setThrowValidation(t){u(this,a,t)}getStorage(t){switch(t){case"local":return window.localStorage;case"session":return window.sessionStorage;default:return}}testStorage(){try{if(h(this,s)){var t="__storage_test__";return h(this,s).setItem(t,t),h(this,s).removeItem(t),!0}}catch(t){return!1}return!1}count(){return h(this,s)?h(this,s).length:-1}set(t,e,r){if(!this.validateKey(t))return;let n=null;switch(r){case"string":case"number":n=e;break;case"boolean":n=""+(e&&["yes","y","t","true"].includes(e.toLowerCase()));break;case"object":n=JSON.stringify(e);break;case"array":n=e.join(";")}if(!n||!h(this,s))throw new y("Unknown item type or empty value was provided");h(this,s).setItem(t,n)}getString(t){if(!this.validateKey(t)||!h(this,s))return;let e=h(this,s).getItem(t);return null!==e?e:void 0}getNumber(t){if(!this.validateKey(t))return;let e=this.getString(t);return e?parseInt(e):void 0}getAny(t){if(!this.validateKey(t))return;let e=this.getString(t);return e?JSON.parse(e):void 0}getBoolean(t){return!!this.validateKey(t)&&"true"===this.getString(t)}getArray(t){if(!this.validateKey(t))return;let e=this.getString(t);return e?e.split(";"):void 0}has(t){return!!this.validateKey(t)&&(!!h(this,s)&&null!==h(this,s).getItem(t))}clear(){h(this,s)&&h(this,s).clear()}get(){return h(this,s)}remove(t){h(this,s)&&h(this,s).removeItem(t)}validateKey(t){if(!(null!==t&&t.length>0)){if(h(this,a))throw new d("property key was empty");return!1}return!0}}s=new WeakMap,o=new WeakMap,a=new WeakMap;class g extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class d extends g{constructor(t){super("BpdValidationError",": "+t)}}class p extends g{constructor(t){super("BpdUnknownStorageOption",t)}}class y extends g{constructor(t){super("BpdUnknownStorageItemType",t)}}class f extends g{constructor(t){super("BpdStorageUnavailable",t)}}}])}));
//# sourceMappingURL=index.min.js.map