!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("bpd-toolkit",[],e):"object"==typeof exports?exports["bpd-toolkit"]=e():t["bpd-toolkit"]=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"BpdStorage",(function(){return n})),r.d(e,"BpdValidationError",(function(){return i})),r.d(e,"BpdUnknownStorageOption",(function(){return a})),r.d(e,"BpdUnknownStorageItemType",(function(){return u})),r.d(e,"BpdStorageUnavailable",(function(){return l}));class n{constructor(t,e=""){this._handler=new s(t),this._name=e}throwValidationErrors(t){this._handler.setThrowValidation(t)}get(){return this._handler.get()}removeItem(t){this._handler.remove(this.getKey(t))}clear(){this._handler.clear()}isAccessible(){return this._handler.testStorage()}length(){return this._handler.count()}getItem(t){return this._handler.getString(this.getKey(t))}getNumber(t){return this._handler.getNumber(this.getKey(t))}getBoolean(t){return this._handler.getBoolean(this.getKey(t))}getAny(t){return this._handler.getAny(this.getKey(t))}getArray(t){return this._handler.getArray(this.getKey(t))}has(t){return this._handler.has(this.getKey(t))}setItem(t,e){this._handler.set(this.getKey(t),e,"string")}setNumber(t,e){this._handler.set(this.getKey(t),e,"number")}setBoolean(t,e){this._handler.set(this.getKey(t),e,"boolean")}setAny(t,e){this._handler.set(this.getKey(t),e,"object")}setArray(t,e){this._handler.set(this.getKey(t),e,"array")}getKey(t){return this.isString(t)?this._name+"_"+t:t}isString(t){return"string"==typeof t&&t.length>0}}class s{constructor(t,e){if(this._throwValidation=null!=e&&e,this._storage=this.getStorage(t),!this._storage)throw new a(`Unknown storage: [${t}]`);if(!this.testStorage())throw new l(`Access to storage [${t}] is denied`)}setThrowValidation(t){this._throwValidation=t}getStorage(t){switch(t){case"local":return window.localStorage;case"session":return window.sessionStorage;default:return}}testStorage(){try{if(this._storage){var t="__storage_test__";return this._storage.setItem(t,t),this._storage.removeItem(t),!0}}catch(t){return!1}return!1}count(){return this._storage?this._storage.length:-1}set(t,e,r){if(!this.validateKey(t))return;let n=null;switch(r){case"string":case"number":n=e;break;case"boolean":n=""+(e&&["yes","y","t","true"].includes(e.toLowerCase()));break;case"object":n=JSON.stringify(e);break;case"array":n=e.join(";")}if(!n||!this._storage)throw new u("Unknown item type or empty value was provided");this._storage.setItem(t,n)}getString(t){if(!this.validateKey(t)||!this._storage)return;let e=this._storage.getItem(t);return null!==e?e:void 0}getNumber(t){if(!this.validateKey(t))return;let e=this.getString(t);return e?parseInt(e):void 0}getAny(t){if(!this.validateKey(t))return;let e=this.getString(t);return e?JSON.parse(e):void 0}getBoolean(t){return!!this.validateKey(t)&&"true"===this.getString(t)}getArray(t){if(!this.validateKey(t))return;let e=this.getString(t);return e?e.split(";"):void 0}has(t){return!!this.validateKey(t)&&(!!this._storage&&null!==this._storage.getItem(t))}clear(){this._storage&&this._storage.clear()}get(){return this._storage}remove(t){this._storage&&this._storage.removeItem(t)}validateKey(t){if(!(null!==t&&t.length>0)){if(this._throwValidation)throw new i("property key was empty");return!1}return!0}}class o extends Error{constructor(t,e){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=t}}class i extends o{constructor(t){super("BpdValidationError",": "+t)}}class a extends o{constructor(t){super("BpdUnknownStorageOption",t)}}class u extends o{constructor(t){super("BpdUnknownStorageItemType",t)}}class l extends o{constructor(t){super("BpdStorageUnavailable",t)}}}])}));
//# sourceMappingURL=index.min.js.map